# Use an official R base image
FROM rocker/r-ver:4.1.0

# Set environment variables
ENV DEBIAN_FRONTEND=noninteractive

# Install necessary dependencies
RUN apt-get update && \
    apt-get install -y \
    libxml2-dev \
    libcurl4-openssl-dev \
    libssl-dev \
    libpng-dev \
    libjpeg-dev \
    libicu-dev \
    libgsl0-dev \
    && apt-get clean && \
    rm -rf /var/lib/apt/lists/*

# Install BiocManager and DESeq2
RUN R -e "install.packages('BiocManager', repos='http://cran.us.r-project.org')" && \
    R -e "BiocManager::install('DESeq2')"

# Set the working directory
WORKDIR /data

# Copy any scripts or data if needed (uncomment if necessary)
# COPY your_script.R /data/your_script.R

# Define the default command
CMD ["R"]

# Example usage of DESeq2 command (uncomment and modify the following line if you want to run DESeq2 by default)
# CMD ["Rscript", "/data/your_script.R"]
