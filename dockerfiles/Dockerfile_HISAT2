# Use an official Ubuntu base image
FROM ubuntu:20.04

# Set environment variables to non-interactive
ENV DEBIAN_FRONTEND=noninteractive

# Install necessary dependencies
RUN apt-get update && \
    apt-get install -y \
    wget \
    unzip && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*

# Download and extract HISAT2 binary
RUN wget https://cloud.biohpc.swmed.edu/index.php/s/oTtGWbWjaxsQ2Ho/download -O /tmp/hisat2.zip && \
    unzip /tmp/hisat2.zip -d /opt/hisat2 && \
    rm /tmp/hisat2.zip

# Add HISAT2 to PATH
ENV PATH="/opt/hisat2:${PATH}"

# Set the working directory
WORKDIR /data

# Define the default command
CMD ["bash"]

# Example usage of HISAT2 command (uncomment the following line if you want to run HISAT2 by default)
# CMD ["hisat2", "--version"]
