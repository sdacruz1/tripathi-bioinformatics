# Use an official Ubuntu base image
FROM ubuntu:20.04

# Set environment variables to non-interactive
ENV DEBIAN_FRONTEND=noninteractive

# Install necessary dependencies
RUN apt-get update && \
    apt-get install -y \
    wget \
    unzip && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*

# Download and extract STAR binary
RUN wget https://github.com/alexdobin/STAR/releases/download/2.7.11b/STAR_2.7.11b.zip -O /tmp/STAR.zip && \
    unzip /tmp/STAR.zip -d /opt && \
    rm /tmp/STAR.zip

# Add STAR to PATH
ENV PATH="/opt/STAR-2.7.11b/bin/Linux_x86_64_static:${PATH}"

# Set the working directory
WORKDIR /data

# Define the default command
CMD ["bash"]

# Example usage of STAR command (uncomment the following line if you want to run STAR by default)
CMD ["STAR", "--version"]
